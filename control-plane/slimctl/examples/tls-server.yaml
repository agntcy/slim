# Copyright AGNTCY Contributors (https://github.com/agntcy)
# SPDX-License-Identifier: Apache-2.0

# Example: TLS-Enabled Server Configuration
# This configuration requires valid X.509 v3 certificate and key files.

runtime:
  n_cores: 0
  thread_name: "slim-worker"
  drain_timeout: 10s

tracing:
  log_level: info
  display_thread_names: true
  display_thread_ids: true

services:
  slim/0:
    dataplane:
      servers:
        - endpoint: "${env:SLIM_ENDPOINT:-0.0.0.0:8443}"
          tls:
            insecure: "${env:SLIM_TLS_INSECURE:-false}"
            source:
              type: file
              cert: "${env:SLIM_TLS_CERT:-testdata/certs/server-cert.pem}"
              key: "${env:SLIM_TLS_KEY:-testdata/certs/server-key.pem}"
      clients: []

# Note: Update paths via environment variables or CLI flags.
# To generate test certificates: cd control-plane/slimctl && task certs:setup
